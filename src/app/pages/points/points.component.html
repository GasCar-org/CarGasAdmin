<div class="row">
  <div class="col-lg-12">
    <nb-card [nbSpinner]="loading" nbSpinnerStatus="success">
      <nb-card-header>اضافة او تعديل معايير النقاط</nb-card-header>
      <nb-card-body>
        <toaster-container [toasterconfig]="config"></toaster-container>
        <form #form="ngForm">
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="inputPassword4">اختر الشركة</label>
              <div class="input-group">
                <ng-select name="aa" [dropdownPosition]="'bottom'" class="form-control" [items]="suppliers" bindLabel="name"
                  bindValue="_id" placeholder="اختر الشركة" [(ngModel)]="selected_supplier_id" #selectedcategoryid="ngModel"
                  (change)="SupplierChanging($event)" required>
                </ng-select>
              </div>
            </div>
            <div class="form-group col-md-6">
              <label for="inputPassword4">عدد النقاط التي تساوي 1 ريال</label>
              <div class="input-group">
                <input type="number" min=0 placeholder="١ ريال يساوي س نقطة" class="form-control" #point_price="ngModel"
                  [(ngModel)]="points.point_price" [ngClass]="(point_price.invalid && (point_price.dirty || point_price.touched))?'form-control form-control-danger':'form-control'"
                  name="point_price" id="point_price" required />
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-4">
              <label for="inputEmail4">الحد الادنى - ريال</label>
              <input type="number" min=0 placeholder="الحد الادنى - ريال" style="height: 35px;" class="form-control"
                #min_value="ngModel" [(ngModel)]="points.min_value" [ngClass]="(min_value.invalid && (min_value.dirty || min_value.touched))?'form-control form-control-danger':'form-control'"
                name="min_value" id="min_value" required />
            </div>
            <div class="form-group col-md-4">
              <label for="inputEmail4">الحد الأعلى - ريال</label>
              <input type="number" min=0 placeholder="الحد الأعلى - ريال" style="height: 35px;" class="form-control"
                #max_value="ngModel" [(ngModel)]="points.max_value" [ngClass]="(max_value.invalid && (max_value.dirty || max_value.touched))?'form-control form-control-danger':'form-control'"
                name="max_value" id="max_value" required />
            </div>
            <div class="form-group col-md-4">
              <label for="inputEmail4">عدد النقاط</label>
              <input type="number" min=0 placeholder="عدد النقاط" style="height: 35px;" class="form-control" #po="ngModel"
                [(ngModel)]="points.points" [ngClass]="(po.invalid && (po.dirty || po.touched))?'form-control form-control-danger':'form-control'"
                name="po" id="po" required />
            </div>
            <div class="form-group col-md-12">
              <label for="inputEmail4"></label>
              <button *ngIf="!isEdit" [disabled]="(!form.valid)" class="btn btn-success btn-round btn-demo" (click)="Save(points)">حفظ
                المعلومات</button>

              <button *ngIf="isEdit" [disabled]="isEdit" class="btn btn-success btn-round btn-demo" (click)="Save(points)">
                تعديل النقاط </button>
            </div>
          </div>
        </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>

<!-- <nb-card>
  <nb-card-header>
    ادارة معايير النقاط
  </nb-card-header>
  <nb-card-body>
    <ng2-smart-table [settings]="settings" [source]="source" (deleteConfirm)="onDeleteConfirm($event)"></ng2-smart-table>
    <div class="form-row">
      <button *ngIf="!isEdit" [disabled]="(!form.valid  || points.Points.length === 0)" class="btn btn-success btn-round btn-demo"
        (click)="Save(points)">حفظ المعلومات</button>

      <button *ngIf="isEdit" [disabled]="(points.Points.length === 0)" class="btn btn-success btn-round btn-demo"
        (click)="Save(points)"> تعديل النقاط </button>
    </div>
  </nb-card-body>
</nb-card> -->